---
const projects = [
  {
    image: '/img/gvolts/men-install-camera.png',
    title: 'Instalaci칩n Comercial',
    description: 'Sistema completo instalado'
  },
  {
    image: '/img/gvolts/instalacion2.jpg',
    title: 'Sistema de Incendios',
    description: 'Protecci칩n certificada'
  },
  {
    image: '/img/gvolts/electric.jpg',
    title: 'Red de Vigilancia',
    description: 'Monitoreo integral'
  },
  {
    image: '/img/gvolts/planing-project.png',
    title: 'Planificaci칩n',
    description: 'Dise침o personalizado'
  },
  {
    image: '/img/gvolts/instalacion.jpg',
    title: 'Mantenimiento',
    description: 'Soporte 24/7'
  }
];
---

<section class="overflow-hidden w-full max-w-full">

  <div class="relative w-full max-w-full group">
    <!-- Slider Container -->
    <div 
      id="projects-slider" 
      class="flex overflow-x-auto snap-x snap-mandatory scrollbar-hide gap-0 w-full h-150"
    >
      {projects.map((project, index) => (
        <div class="min-w-full md:min-w-[33.333%] lg:min-w-[25%] h-full snap-start relative border-r border-black last:border-r-0 group/card cursor-pointer">
          <img
            src={project.image}
            alt={project.title}
            class="w-full h-full object-cover grayscale group-hover/card:grayscale-0 transition-all duration-500"
            loading="lazy"
          />
          
          <div class="absolute inset-0 bg-black/20 group-hover/card:bg-black/40 transition-colors duration-300 flex flex-col justify-end p-8">
            <div class="transform translate-y-4 opacity-0 group-hover/card:translate-y-0 group-hover/card:opacity-100 transition-all duration-300">
              <h3 class="text-2xl font-bold text-white mb-2 font-display">{project.title}</h3>
              <p class="text-white/90 font-body">{project.description}</p>
            </div>
            
            <div class="absolute bottom-8 left-8 group-hover/card:opacity-0 transition-opacity duration-300">
              <span class="text-white/80 text-sm uppercase tracking-wider">Ver Proyecto</span>
            </div>
          </div>
        </div>
      ))}
    </div>

    <!-- Navigation Buttons -->
    <button 
      id="prev-btn"
      class="absolute left-4 top-1/2 cursor-pointer -translate-y-1/2 w-12 h-12 bg-white border-2 border-black rounded-full flex items-center justify-center hover:bg-black hover:text-white transition-colors duration-300 z-10 disabled:opacity-50 disabled:cursor-not-allowed"
      aria-label="Previous project"
    >
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
      </svg>
    </button>
    
    <button 
      id="next-btn"
      class="absolute right-4 top-1/2 cursor-pointer -translate-y-1/2 w-12 h-12 bg-white border-2 border-black rounded-full flex items-center justify-center hover:bg-black hover:text-white transition-colors duration-300 z-10 disabled:opacity-50 disabled:cursor-not-allowed"
      aria-label="Next project"
    >
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
        <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
      </svg>
    </button>
  </div>
</section>

<style>
  /* Hide scrollbar for Chrome, Safari and Opera */
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  /* Hide scrollbar for IE, Edge and Firefox */
  .scrollbar-hide {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
</style>

<script>
  const slider = document.getElementById('projects-slider');
  const prevBtn = document.getElementById('prev-btn');
  const nextBtn = document.getElementById('next-btn');

  if (slider && prevBtn && nextBtn) {
    const scrollAmount = () => slider.clientWidth / (window.innerWidth >= 1024 ? 4 : window.innerWidth >= 768 ? 3 : 1);

    nextBtn.addEventListener('click', () => {
      slider.scrollBy({ left: scrollAmount(), behavior: 'smooth' });
    });

    prevBtn.addEventListener('click', () => {
      slider.scrollBy({ left: -scrollAmount(), behavior: 'smooth' });
    });
  }
</script>
