---
import {
  // Common icons
  Phone,
  Mail,
  MapPin,
  Check,
  ChevronDown,
  ChevronUp,
  ChevronRight,
  ArrowRight,
  ArrowUp,
  Zap,
  CircleArrowOutUpRight,

  // Service icons
  ShieldCheck,
  Flame,
  Camera,
  Cctv,
  Lightbulb,
  Home,
  Building2,

  // Additional icons
  Play,
  Eye,
  Wrench,
  Heart,
  Rocket,
  Brain,
  Shield,
  MoveRight,

  // HowToWork icons
  Ruler,
  Settings,
  Video,
  HeartPulse,
  FileText,
  Headphones,
  HelpCircle,

  // New service page icons
  Clock,
  Network,
  Droplets,
  Building,
  Factory,
  Cross,
  Bell,
  BellRing,
  Award,
  Timer,
  DollarSign,
  TrendingUp,
  LineChart,
  Leaf,
  Wand2,
  Sparkles,
  Smartphone,
  Cloud,
  CloudCheck,
  Fingerprint,
  FileCheck,
  Car,
  Plug,
  Sun,
  FlaskConical,
  FileBadge,
  PiggyBank,
  CheckCircle,
  Star,
  Receipt,
  Percent,
  Users,
  HandHeart,
  AlertTriangle,
  MessageSquareMore,
  BookOpen,
} from '@lucide/astro';

interface Props {
  name: string;
  size?: string | number;
  class?: string;
  width?: string | number;
  height?: string | number;
  strokeWidth?: number;
}

const {
  name,
  size = "24",
  class: className = "",
  width,
  height,
  strokeWidth,
} = Astro.props;

const iconWidth = width || size;
const iconHeight = height || size;

// Map icon names to Lucide components
const iconMap: Record<string, any> = {
  // Common icons
  'Phone': Phone,
  'HelpCircle': HelpCircle,
  'MoveRight': MoveRight,
  'Ruler': Ruler,
  'Wrench': Wrench,
  'Settings': Settings,
  'CheckCircle': CheckCircle,

  'Mail': Mail,
  'MapPin': MapPin,
  'Check': Check,
  'ChevronDown': ChevronDown,
  'ChevronUp': ChevronUp,
  'ChevronRight': ChevronRight,
  'ArrowRight': ArrowRight,
  'ArrowUp': ArrowUp,
  'forward': ArrowRight,
  'Zap': Zap,

  // Service icons
  'ShieldCheck': ShieldCheck,
  'Flame': Flame,
  'Camera': Camera,
  'Cctv': Cctv,
  'Lightbulb': Lightbulb,
  'Home': Home,
  'Building2': Building2,
  'Building': Building,

  // Additional icons
  'Play': Play,
  'Eye': Eye,
  'Heart': Heart,
  'Rocket': Rocket,
  'Brain': Brain,
  'tool': Wrench,
  'Shield': Shield,
  'Video': Video,

  // HowToWork sprite mappings
  'flame': Flame,
  'ruler': Ruler,
  'corkscrew': Wrench,
  'settings': Settings,
  'shield-check': ShieldCheck,
  'clapperboard-play': Video,
  'point-on-map': MapPin,
  'alt-arrow-up': ArrowUp,
  'heart-pulse': HeartPulse,
  'thunder': Zap,
  'FileText': FileText,
  'headphones': Headphones,

  // Custom icon aliases
  'rocket-fast': Rocket,
  'brain-ai': Brain,
  'shield-heart': Shield,
  'tools-wrench': Wrench,
  'circle-bottom-up': CircleArrowOutUpRight,

  // Service page icons from JSON
  'clock': Clock,
  'eye': Eye,
  'flame-detector': Flame,
  'network': Network,
  'spray': Droplets,
  'building': Building,
  'factory': Factory,
  'home': Home,
  'hospital': Cross,
  'headset': Headphones,
  'bell-alert': BellRing,
  'award': Award,
  'clock-fast': Timer,
  'tools': Wrench,
  'shield-dollar': Shield,
  'chart-line': TrendingUp,
  'leaf': Leaf,
  'magic': Wand2,
  'smartphone': Smartphone,
  'cloud-check': CloudCheck,
  'camera': Camera,
  'fingerprint': Fingerprint,
  'certificate': Award,
  'leaf-electricity': Leaf,
  'car-charging': Car,
  'sun-energy': Sun,
  'factory-smoke': Factory,
  'fire-extinguisher': Flame,
  'hard-hat': AlertTriangle,
  'test-tube': FlaskConical,
  'file-certificate': FileCheck,
  'piggy-bank': PiggyBank,
  'clock-check': Clock,
  'sparkles': Sparkles,
  'award-star': Star,
  'receipt-percent': Receipt,
  'phone-24': Phone,
  'lightbulb-bolt': Lightbulb,
  'user-hands': Users,
  'MessageSquareMore': MessageSquareMore,
  'BookOpen': BookOpen,
};

const IconComponent = iconMap[name];

if (!IconComponent) {
  console.warn(`Icon "${name}" not found in iconMap. Available icons:`, Object.keys(iconMap).join(', '));
}
---

{IconComponent && (
  <IconComponent
    size={iconWidth}
    width={iconWidth}
    height={iconHeight}
    class={className}
    strokeWidth={strokeWidth}
  />
)}
